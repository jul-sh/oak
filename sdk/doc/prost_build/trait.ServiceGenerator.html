<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A service generator takes a service descriptor and generates Rust code."><meta name="keywords" content="rust, rustlang, rust-lang, ServiceGenerator"><title>ServiceGenerator in prost_build - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><script defer src="../main.js"></script>
    <noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a class="sidebar-logo" href="../prost_build/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.png" alt="logo"></div>
        </a><h2 class="location">Trait ServiceGenerator</h2><div class="sidebar-elems"><div class="block items"><h3 class="sidebar-title"><a href="#required-methods">Required Methods</a></h3><div class="sidebar-links"><a href="#tymethod.generate">generate</a></div><h3 class="sidebar-title"><a href="#provided-methods">Provided Methods</a></h3><div class="sidebar-links"><a href="#method.finalize">finalize</a><a href="#method.finalize_package">finalize_package</a></div><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div><h2 class="location">Other items in<br><a href="index.html">prost_build</a></h2><div id="sidebar-vars" data-name="ServiceGenerator" data-ty="trait" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../prost_build/index.html"><img class="rust-logo" src="../rust-logo.png" alt="logo"></a><nav class="sub"><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><h1 class="fqn"><span class="in-band">Trait <a href="index.html">prost_build</a>::<wbr><a class="trait" href="#">ServiceGenerator</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/prost_build/lib.rs.html#156-185" title="goto source code">[src]</a></span></h1><div class="docblock item-decl"><pre class="rust trait"><code>pub trait ServiceGenerator {
    fn <a href="#tymethod.generate" class="fnname">generate</a>(&amp;mut self, service: <a class="struct" href="struct.Service.html" title="struct prost_build::Service">Service</a>, buf: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>);

    fn <a href="#method.finalize" class="fnname">finalize</a>(&amp;mut self, _buf: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>) { ... }
<div class="item-spacer"></div>    fn <a href="#method.finalize_package" class="fnname">finalize_package</a>(&amp;mut self, _package: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>, _buf: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>) { ... }
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A service generator takes a service descriptor and generates Rust code.</p>
<p><code>ServiceGenerator</code> can be used to generate application-specific interfaces
or implementations for Protobuf service definitions.</p>
<p>Service generators are registered with a code generator using the
<code>Config::service_generator</code> method.</p>
<p>A viable scenario is that an RPC framework provides a service generator. It generates a trait
describing methods of the service and some glue code to call the methods of the trait, defining
details like how errors are handled or if it is asynchronous. Then the user provides an
implementation of the generated trait in the application code and plugs it into the framework.</p>
<p>Such framework isn’t part of Prost at present.</p>
</div></details><h2 id="required-methods" class="small-section-header">Required methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="tymethod.generate" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/prost_build/lib.rs.html#159" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.generate" class="fnname">generate</a>(&amp;mut self, service: <a class="struct" href="struct.Service.html" title="struct prost_build::Service">Service</a>, buf: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>)</h4></div></summary><div class="docblock"><p>Generates a Rust interface or implementation for a service, writing the
result to <code>buf</code>.</p>
</div></details></div><h2 id="provided-methods" class="small-section-header">Provided methods<a href="#provided-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="method.finalize" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/prost_build/lib.rs.html#174" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.finalize" class="fnname">finalize</a>(&amp;mut self, _buf: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>)</h4></div></summary><div class="docblock"><p>Finalizes the generation process.</p>
<p>In case there’s something that needs to be output at the end of the generation process, it
goes here. Similar to <a href="#method.generate"><code>generate</code></a>, the output should be appended to
<code>buf</code>.</p>
<p>An example can be a module or other thing that needs to appear just once, not for each
service generated.</p>
<p>This still can be called multiple times in a lifetime of the service generator, because it
is called once per <code>.proto</code> file.</p>
<p>The default implementation is empty and does nothing.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.finalize_package" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/prost_build/lib.rs.html#184" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.finalize_package" class="fnname">finalize_package</a>(&amp;mut self, _package: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>, _buf: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>)</h4></div></summary><div class="docblock"><p>Finalizes the generation process for an entire protobuf package.</p>
<p>This differs from <a href="#method.finalize"><code>finalize</code></a> by where (and how often) it is called
during the service generator life cycle. This method is called once per protobuf package,
making it ideal for grouping services within a single package spread across multiple
<code>.proto</code> files.</p>
<p>The default implementation is empty and does nothing.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"></div><script type="text/javascript" src="../implementors/prost_build/trait.ServiceGenerator.js" async></script></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="prost_build" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.60.0-nightly (a7e2e3396 2022-01-08)" ></div>
</body></html>